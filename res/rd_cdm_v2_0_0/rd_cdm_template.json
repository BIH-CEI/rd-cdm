{
    "$schema": "https://json-schema.org/draft/2020-12/json-schema-core",
    "title": "RD CDM Data Model",
    "version": "2.0.0",
    "description": "RareLink Common Data Model (CDM) for Rare Diseases. This version defines the structure of RD CDM v2.0.",
    "type": "object",
    "properties": {
      "version": {
        "type": "string",
        "description": "The version of the data model",
        "example": "2.0.0"
      },
      "metadata": {
        "type": "object",
        "description": "Metadata about the data model, such as author, creation date, and ontologies used",
        "properties": {
          "author": {
            "type": "string",
            "description": "Name of the author of the data model"
          },
          "creationDate": {
            "type": "string",
            "format": "date",
            "description": "Date the model was created"
          },
          "ontologies": {
            "type": "array",
            "description": "A list of ontologies used in the data model",
            "items": {
              "type": "object",
              "properties": {
                "ontologyName": {
                  "type": "string",
                  "description": "The name of the ontology (e.g., SNOMED CT, LOINC)"
                },
                "version": {
                  "type": "string",
                  "description": "The version of the ontology being used"
                },
                "url": {
                  "type": "string",
                  "description": "The URL or reference to the ontology source"
                }
              },
              "required": ["ontologyName", "version", "url"]
            },
            "ontologies": [
              {
                "ontologyName": "SNOMED CT",
                "version": "2023-06",
                "url": "http://snomed.org/sct"
              },
              {
                "ontologyName": "LOINC",
                "version": "v2.77",
                "url": "http://loinc.org"
              },
              {
                "ontologyName": "Orphanet",
                "version": "2023",
                "url": "http://www.orpha.net"
              }
            ]
          }
        },
        "required": ["author", "creationDate", "ontologies"]
      },
      "dataElements": {
        "type": "array",
        "description": "A list of data elements in the model",
        "items": {
          "type": "object",
          "properties": {
            "section": {
              "type": "string",
              "description": "The section of the data element"
            },
            "elementName": {
              "type": "string",
              "description": "The name of the data element"
            },
            "code": {
              "type": "string",
              "description": "The code associated with the data element"
            },
            "terminology": {
              "type": "string",
              "description": "The terminology used (e.g., SNOMED CT, LOINC)"
            },
            "dataType": {
              "type": "string",
              "description": "The data type of the element (e.g., string, integer, boolean)"
            },
            "dataSpecification": {
              "type": "string",
              "description": "Specification or format for the data element"
            },
            "concepts": {
              "type": "object",
              "properties": {
                "display": {
                  "type": "string",
                  "description": "Display name for the concept"
                },
                "code": {
                  "type": "string",
                  "description": "Code for the concept"
                },
                "codeSystem": {
                  "type": "string",
                  "description": "Code system associated with the concept"
                }
              },
              "required": ["display", "code", "codeSystem"]
            },
            "fhirExpression": {
              "type": "string",
              "description": "FHIR v4.0.1 expression for this data element"
            },
            "phenopacketSchemaElement": {
              "type": "string",
              "description": "GA4GH Phenopacket Schema v2.0 element for this data element"
            },
            "description": {
              "type": "string",
              "description": "Detailed description of the data element"
            }
          },
          "required": ["elementName", "dataType", "code"]
        },
        "dataElements": [
          {
            "section": "1. Formal Criteria",
            "elementName": "1.1 Pseudonym",
            "code": "422549004",
            "terminology": "SNOMED CT",
            "dataType": "Identifier",
            "dataSpecification": "n/a",
            "concepts": {
              "display": "Pseudonym",
              "code": "422549004",
              "codeSystem": "SCT"
            },
            "fhirExpression": "Patient.identifier.value",
            "phenopacketSchemaElement": "Individual.id",
            "description": "The (local) patient-related Identification code"
          },
          {
            "section": "1. Formal Criteria",
            "elementName": "1.2 Date of Admission",
            "code": "399423000",
            "terminology": "SNOMED CT",
            "dataType": "Date",
            "dataSpecification": "YYYY-MM-DD",
            "concepts": {
              "display": "Date of Admission",
              "code": "399423000",
              "codeSystem": "SCT"
            },
            "fhirExpression": "Encounter.period.start",
            "phenopacketSchemaElement": "Individual.time_at_last_encounter",
            "description": "The date of admission or data capture of the individual"
          }
        ]
      }
    },
    "required": ["version", "dataElements"]
  }
  